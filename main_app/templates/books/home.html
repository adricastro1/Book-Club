{% extends 'base.html' %}
{% block content %}


<div class="home-content">
    <section class="home-left">
        {% if user.is_authenticated %}
        <h3 class="welcome">Welcome {{ user.username }}!</h3>
        {% else %}
        <h3 class="welcome">Welcome!</h3>
        <p id="instructions">Sign up or Log in to view book details, leave reviews, and create a reading list!</p>
        {% endif %}

        <section class="botm">
            <h2>Book of the Month</h2>
            <div class="botm-info">
                {% load static %}
                <img src="{%static 'imgs/book-cover.jpeg'%}" alt="book-stack">
                <div id="botm-details" class="stars">
                    <h4>{{book_of_the_month.title}}</h4>
                    <p>By {{book_of_the_month.author}}</p>
                    {% if book_of_the_month.average_rating %}
                    <p>Overall Rating:</p>
                    {% if book_of_the_month.average_rating == 1 %}
                    <span class="material-symbols-outlined">star</span>
                    {% elif book_of_the_month.average_rating == 1.5 %}
                    <span class="material-symbols-outlined">star star_half</span>
                    {% elif book_of_the_month.average_rating == 2 %}
                    <span class="material-symbols-outlined">star star</span>
                    {% elif book_of_the_month.average_rating == 2.5 %}
                    <span class="material-symbols-outlined">star star star_half</span>
                    {% elif book_of_the_month.average_rating == 3 %}
                    <span class="material-symbols-outlined">star star star</span>
                    {% elif book_of_the_month.average_rating == 3.5 %}
                    <span class="material-symbols-outlined">star star star star_half</span>
                    {% elif book_of_the_month.average_rating == 4 %}
                    <span class="material-symbols-outlined">star star star star</span>
                    {% elif book_of_the_month.average_rating == 4.5 %}
                    <span class="material-symbols-outlined">star star star star star_half</span>
                    {% else %}
                    <span class="material-symbols-outlined">star star star star star</span>
                    {% endif %}
                    {% endif %}
                </div>
            </div>
            <p id="synopsis">{{book_of_the_month.synopsis}}</p>
            <button type="button" id="botm-btn" class="btn btn-light">
                <a class="link" href="{% url 'detail' book_of_the_month.id %}">View Details</a>
            </button>
        </section>
    </section>


    <section class="home-right">
        <h3>Book Recommendations:</h3>
        {% for book in books %}
        <a href="{% url 'detail' book.id %}">
            <div class="all-books">
                <div class="info">
                    <h4>{{ book.title }}</h4>
                    <p> By {{ book.author }}</p>
                </div>
                {% if book.average_rating %}
                <div>
                    {% if book.average_rating == 1 %}
                    <span class="material-symbols-outlined">star</span>
                    {% elif book.average_rating == 1.5 %}
                    <span class="material-symbols-outlined">star star_half</span>
                    {% elif book.average_rating == 2 %}
                    <span class="material-symbols-outlined">star star</span>
                    {% elif book.average_rating == 2.5 %}
                    <span class="material-symbols-outlined">star star star_half</span>
                    {% elif book.average_rating == 3 %}
                    <span class="material-symbols-outlined">star star star</span>
                    {% elif book.average_rating == 3.5 %}
                    <span class="material-symbols-outlined">star star star star_half</span>
                    {% elif book.average_rating == 4 %}
                    <span class="material-symbols-outlined">star star star star</span>
                    {% elif book.average_rating == 4.5 %}
                    <span class="material-symbols-outlined">star star star star star_half</span>
                    {% else %}
                    <span class="material-symbols-outlined">star star star star star</span>
                    {% endif %}
                </div>
                {% endif %}
            </div>
        </a>
        {% endfor %}
    </section>
</div>



{% endblock %}